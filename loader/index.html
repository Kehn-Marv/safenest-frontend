<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <title>SafeNest - Secure Real Estate</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script>
      if (localStorage.getItem("theme") === "dark" || (!("theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
      }
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              brand: '#6366F1',
              glass: 'rgba(255, 255, 255, 0.05)'
            },
            fontFamily: {
              sans: ['Inter', 'sans-serif']
            },
            boxShadow: {
              card: '0 8px 32px rgba(0,0,0,0.2)'
            }
          }
        }
      }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
    <style>
      html {
        font-family: Inter, sans-serif;
      }
      .slide-up {
        opacity: 0;
        transform: translateY(40px);
        transition: all 0.6s ease-out;
      }
      .slide-in {
        opacity: 1;
        transform: translateY(0);
      }
    </style>
  </head>
  <body class="bg-white text-gray-900 dark:bg-gray-900 dark:text-white min-h-screen transition-colors duration-300">
    <!-- Branded Animated Loader -->
<div id="loader" class="fixed inset-0 z-50 bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center flex-col text-center">
  <div class="relative mb-6">
    <div class="absolute inset-0 rounded-full border-4 border-indigo-500 animate-ping"></div>
    <div class="h-20 w-20 bg-indigo-600 rounded-full shadow-lg flex items-center justify-center">
      <span class="text-white text-2xl font-bold">ğŸ¡</span>
    </div>
  </div>
  <h1 class="text-white text-3xl font-extrabold tracking-wide animate-pulse">SafeNest</h1>
  <p class="text-gray-400 mt-2 text-sm">Securing your real estate dreams...</p>
</div>
    <div class="max-w-6xl mx-auto px-4 py-8">
      <div class="flex justify-between items-center mb-8 slide-up">
        <h1 class="text-4xl font-bold">ğŸ¡ SafeNest</h1>
        <button id="themeToggle" class="border border-gray-400 dark:border-white px-3 py-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700">ğŸŒ“ Toggle Theme</button>
      </div>

      <p class="text-lg mb-10 slide-up">A futuristic Cardano-powered escrow platform protecting Nigerian property buyers from fraud.</p>

      <section class="grid md:grid-cols-3 gap-6 mb-10 slide-up">
        <div class="bg-white/10 dark:bg-glass p-6 rounded-2xl shadow-card backdrop-blur-lg">
          <h2 class="text-xl font-semibold mb-2">ğŸ˜ Lekki, Lagos</h2>
          <p><strong>Agent:</strong> Mr. John Verified</p>
          <button onclick="startEscrow()" class="bg-brand text-white w-full px-4 py-2 rounded mt-4 hover:opacity-80">Start Escrow</button>
        </div>
        <div class="bg-white/10 dark:bg-glass p-6 rounded-2xl shadow-card backdrop-blur-lg">
          <h2 class="text-xl font-semibold mb-2">ğŸ˜ Gwarinpa, Abuja</h2>
          <p><strong>Agent:</strong> Ms. Cynthia Realtor</p>
          <button onclick="startEscrow()" class="bg-brand text-white w-full px-4 py-2 rounded mt-4 hover:opacity-80">Start Escrow</button>
        </div>
        <div class="bg-white/10 dark:bg-glass p-6 rounded-2xl shadow-card backdrop-blur-lg">
          <h2 class="text-xl font-semibold mb-2">ğŸ˜ Victoria Island, Lagos</h2>
          <p><strong>Agent:</strong> Mr. Emeka Realty</p>
          <button onclick="startEscrow()" class="bg-brand text-white w-full px-4 py-2 rounded mt-4 hover:opacity-80">Start Escrow</button>
        </div>
      </section>

      <section class="bg-white/10 dark:bg-glass p-6 rounded-2xl shadow-card backdrop-blur-lg mb-10 slide-up">
        <h2 class="text-xl font-semibold mb-4">ğŸ‘©â€âš–ï¸ Choose Legal Professionals</h2>
        <label class="block mb-2">Choose Lawyer:</label>
        <select id="lawyerSelect" class="w-full p-2 border rounded dark:bg-gray-700">
          <option value="addr_test1_lawyer">Mrs. Ada (Verified)</option>
          <option value="addr_test1_lawyer2">Mr. Emeka Legal</option>
          <option value="addr_test1_lawyer3">Barr. Grace Uzo</option>
        </select>
        <label class="block mt-4 mb-2">Choose Inspector:</label>
        <select id="inspectorSelect" class="w-full p-2 border rounded dark:bg-gray-700">
          <option value="addr_test1_inspector">InspectPro Ltd</option>
          <option value="addr_test1_inspector2">HonestEyes Inspections</option>
          <option value="addr_test1_inspector3">BlueCheck Property</option>
        </select>
      </section>

      <section class="bg-white/10 dark:bg-glass p-6 rounded-2xl shadow-card backdrop-blur-lg mb-10 slide-up">
        <h2 class="text-xl font-semibold mb-4">ğŸ’° Buyer Actions</h2>
        <p id="walletStatus" class="mb-2 text-sm text-gray-600 dark:text-gray-400">Wallet not connected</p>
        <input type="number" id="amountInput" placeholder="Amount in ADA" class="w-full p-2 mb-4 rounded border dark:bg-gray-700">
        <div class="flex flex-wrap gap-4">
          <button onclick="connectWallet()" class="bg-green-600 text-white px-4 py-2 rounded hover:opacity-80">Connect Eternl Wallet</button>
          <button onclick="sendPayment()" class="bg-yellow-500 text-white px-4 py-2 rounded hover:opacity-80">Send Payment</button>
        </div>
      </section>

      <section class="bg-white/10 dark:bg-glass p-6 rounded-2xl shadow-card backdrop-blur-lg mb-10 slide-up">
        <h2 class="text-xl font-semibold mb-4">ğŸ“‹ Status Actions</h2>
        <div class="flex flex-wrap gap-4 mb-4">
          <button onclick="lawyerConfirm()" class="bg-indigo-600 text-white px-4 py-2 rounded hover:opacity-80">Lawyer Confirm</button>
          <button onclick="inspectorConfirm()" class="bg-purple-600 text-white px-4 py-2 rounded hover:opacity-80">Inspector Confirm</button>
          <button onclick="releaseFunds()" class="bg-pink-600 text-white px-4 py-2 rounded hover:opacity-80">Release Funds</button>
        </div>
        <div class="text-sm text-gray-700 dark:text-gray-300">
          <p>ğŸ‘¨â€âš–ï¸ <strong>Lawyer Confirmation:</strong> <span id="lawyerStatus"> Not Confirmed</span></p>
          <p>ğŸ•µï¸ <strong>Inspector Confirmation:</strong> <span id="inspectorStatus"> Not Confirmed</span></p>
        </div>
      </section>

      <footer class="mt-10 text-center text-sm text-gray-500 dark:text-gray-400 slide-up">
        Built by Kehn Marv for the Cardano Hackathon 2025
      </footer>
    </div>

    <script>
      const toggle = document.getElementById("themeToggle");
      toggle.addEventListener("click", () => {
        const html = document.documentElement;
        html.classList.toggle("dark");
        localStorage.setItem("theme", html.classList.contains("dark") ? "dark" : "light");
      });

      const sliders = document.querySelectorAll('.slide-up');
      const appearOptions = { threshold: 0.2, rootMargin: "0px 0px -50px 0px" };

      const appearOnScroll = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (!entry.isIntersecting) return;
          entry.target.classList.add('slide-in');
          observer.unobserve(entry.target);
        });
      }, appearOptions);

      sliders.forEach(slider => {
        appearOnScroll.observe(slider);
      });

      function startEscrow() {
        alert("Escrow started for this property (demo)");
      }
      function sendPayment() {
        alert("Payment sent (demo)");
      }
      function lawyerConfirm() {
        document.getElementById("lawyerStatus").textContent = " Confirmed âœ…";
      }
      function inspectorConfirm() {
        document.getElementById("inspectorStatus").textContent = " Confirmed âœ…";
      }
      function releaseFunds() {
        alert("Funds released (demo)");
      }
    </script>
    <script type="module">
      import { Lucid } from "https://unpkg.com/lucid-cardano@0.10.7/web/mod.js";
      window.Lucid = Lucid;
    </script>
    <script>
  // Branded loader fade out
  window.addEventListener("load", () => {
    const loader = document.getElementById("loader");
    if (loader) {
      loader.classList.add("opacity-0", "transition-opacity", "duration-700");
      setTimeout(() => loader.style.display = "none", 800);
    }
  });
</script>
    <script type="module" src="main.js"></script>
  </body>
</html>